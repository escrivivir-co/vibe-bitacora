<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36" version="28.1.2">
  <diagram name="MCP Architecture" id="state-machine-mcp-driver">
    <mxGraphModel dx="10227" dy="8947" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Main Canvas -->
        <mxCell id="main-canvas" value="" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="-1150" y="-2680" width="4300" height="4300" as="geometry" />
        </mxCell>
        
        <!-- MCPLauncherServer - Central Component -->
        <mxCell id="launcher-server-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="500" y="-1800" width="1000" height="500" as="geometry" />
        </mxCell>
        <mxCell id="launcher-server-title" value="MCPLauncherServer.ts&#xa;(Core Central System - Port 3050)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="-1780" width="640" height="50" as="geometry" />
        </mxCell>
        <mxCell id="launcher-server-description" value="Main server that manages and spawns other MCP service servers.&#xa;Provides health monitoring, auto-restart, and centralized control." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="700" y="-1730" width="600" height="50" as="geometry" />
        </mxCell>
        
        <!-- Socket.IO Server - AlephScript Rooms -->
        <mxCell id="socket-io-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="760" y="-2260" width="620" height="400" as="geometry" />
        </mxCell>
        <mxCell id="socket-io-title" value="Socket.IO Server&#xa;(AlephScript Rooms)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="-2240" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-devops" value="room: devops" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="-2190" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-statemachine" value="room: statemachine" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="-2190" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-wikibrowser" value="room: wikibrowser" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1170" y="-2190" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-console" value="room: ui-console" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="-2080" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-web" value="room: ui-web" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="-2080" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="socket-room-broadcast" value="room: broadcast" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f8f9fa;strokeColor=#01579B;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="-1980" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- AlephScript Clients -->
        <mxCell id="alephscript-clients-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="0" y="-2260" width="680" height="320" as="geometry" />
        </mxCell>
        <mxCell id="alephscript-clients-title" value="AlephScript Clients (Socket.IO)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="-2240" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="alephscript-proserpina" value="ProserpinaBot&#xa;(DevOps Operations)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="-2190" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="alephscript-orfeo" value="OrfeoBot&#xa;(Music & Audio)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2190" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="alephscript-euridice" value="EuridiceBot&#xa;(Data & Analytics)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="440" y="-2190" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="alephscript-unity" value="Unity AlephScript&#xa;(Game Integration)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2080" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- Orchestrator & Channel System -->
        <mxCell id="orchestrator-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="500" y="-1200" width="1000" height="600" as="geometry" />
        </mxCell>
        <mxCell id="orchestrator-title" value="RxJS Orchestrator + Channel System" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="-1180" width="500" height="40" as="geometry" />
        </mxCell>
        
        <!-- App Channel -->
        <mxCell id="app-channel-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="540" y="-1120" width="280" height="480" as="geometry" />
        </mxCell>
        <mxCell id="app-channel-title" value="AppChannelAgent&#xa;(state-manager)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="-1100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="app-channel-msg-type" value="AppMessage" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="630" y="-1060" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="app-message-state-transition" value="state_transition" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="580" y="-1030" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="app-message-action-request" value="action_request" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="580" y="-990" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="app-message-action-result" value="action_result" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="580" y="-950" width="200" height="30" as="geometry" />
        </mxCell>
        
        <!-- System Channel -->
        <mxCell id="sys-channel-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="860" y="-1120" width="280" height="480" as="geometry" />
        </mxCell>
        <mxCell id="sys-channel-title" value="SysChannelAgent&#xa;(system-monitor)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="-1100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sys-channel-msg-type" value="SysMessage" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="950" y="-1060" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sys-message-health-check" value="health_check" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="900" y="-1030" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sys-message-error" value="error" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="900" y="-990" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sys-message-info" value="info" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="900" y="-950" width="200" height="30" as="geometry" />
        </mxCell>
        
        <!-- UI Channel -->
        <mxCell id="ui-channel-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1180" y="-1120" width="280" height="480" as="geometry" />
        </mxCell>
        <mxCell id="ui-channel-title" value="UIChannelAgent&#xa;(ui-controller)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="-1100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ui-channel-msg-type" value="UIMessage" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="1270" y="-1060" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ui-message-render-request" value="render_request" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1220" y="-1030" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ui-message-user-input" value="user_input" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1220" y="-990" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ui-message-display-update" value="display_update" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1220" y="-950" width="200" height="30" as="geometry" />
        </mxCell>
        
        <!-- Orchestrator Core -->
        <mxCell id="orchestrator-core" value="Orchestrator Core&#xa;(RxJS Message Bus)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="880" y="-840" width="240" height="120" as="geometry" />
        </mxCell>
        
        <!-- Connections between Orchestrator and Channels -->
        <mxCell id="connection-orchestrator-app" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#82b366;strokeWidth=2;" edge="1" parent="1" source="orchestrator-core" target="app-channel-container">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="680" y="-780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="connection-orchestrator-sys" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#d6b656;strokeWidth=2;" edge="1" parent="1" source="orchestrator-core" target="sys-channel-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="connection-orchestrator-ui" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="orchestrator-core" target="ui-channel-container">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1320" y="-780" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Channel Bots -->
        <mxCell id="channel-bots-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1460" y="-2260" width="620" height="320" as="geometry" />
        </mxCell>
        <mxCell id="channel-bots-title" value="RxJS Channel Bots" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1640" y="-2240" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bot-apolo" value="ApoloBot&#xa;(Strategic Agent)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1500" y="-2190" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bot-dionisio" value="DionisioBot&#xa;(Creative Agent)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1700" y="-2190" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bot-justice" value="JusticeBot&#xa;(Regulatory Agent)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1500" y="-2080" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bot-user-simulator" value="UserSimulator&#xa;(Testing Agent)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8f9fa;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1700" y="-2080" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- MCP Servers -->
        <mxCell id="devops-server-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="-500" width="380" height="320" as="geometry" />
        </mxCell>
        <mxCell id="devops-server-title" value="DevOpsServerImpl&#xa;(Port 3003)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="-480" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="devops-server-socket" value="Socket.IO Client&#xa;Plugin (room: devops)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#E1F5FE;strokeColor=#01579B;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="-420" width="140" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="statemachine-server-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="810" y="-500" width="380" height="320" as="geometry" />
        </mxCell>
        <mxCell id="statemachine-server-title" value="MCPStateMachineServer&#xa;(Port 3001)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="-480" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="statemachine-server-socket" value="Socket.IO Client&#xa;Plugin (room: statemachine)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#E1F5FE;strokeColor=#01579B;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="-420" width="140" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="wikibrowser-server-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;strokeWidth=3;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1560" y="-500" width="380" height="320" as="geometry" />
        </mxCell>
        <mxCell id="wikibrowser-server-title" value="MCPWikiBrowserServer&#xa;(Port 3002)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1670" y="-480" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wikibrowser-server-socket" value="Socket.IO Client&#xa;Plugin (room: wikibrowser)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#E1F5FE;strokeColor=#01579B;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1680" y="-420" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Gamification UI Section -->
        <mxCell id="gamification-ui-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="500" y="-500" width="1000" height="320" as="geometry" />
        </mxCell>
        <mxCell id="gamification-ui-title" value="GamificationUI System" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="-480" width="500" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="console-ui-container" value="ConsoleGamificationUI&#xa;(Terminal Interface)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="600" y="-420" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="html5-ui-container" value="HTML5GamificationUI&#xa;(Web Interface with SSE)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="810" y="-420" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="multi-ui-container" value="MultiUIGameManager&#xa;(UI Coordinator)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1020" y="-420" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="conversation-msg-container" value="ConversationMessage&#xa;(Game Message Interface)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="810" y="-310" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- MCPDriverAdapter and Runtime -->
        <mxCell id="mcp-driver-adapter" value="MCPDriverAdapter&#xa;(MCP Communication Layer)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="810" y="-100" width="380" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="runtime-container" value="Runtime&#xa;(Core Game Engine)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="810" y="-20" width="380" height="60" as="geometry" />
        </mxCell>
        
        <!-- Connections between components -->
        <mxCell id="connection-launcher-socket" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#01579B;strokeWidth=2;" edge="1" parent="1" source="launcher-server-container" target="socket-io-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-launcher-orchestrator" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="launcher-server-container" target="orchestrator-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-socket-alephscript" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="socket-io-container" target="alephscript-clients-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-socket-bots" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1" source="socket-io-container" target="channel-bots-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-orchestrator-devops" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#4CAF50;strokeWidth=2;" edge="1" parent="1" source="orchestrator-container" target="devops-server-container">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="-550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="connection-orchestrator-statemachine" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#d79b00;strokeWidth=2;" edge="1" parent="1" source="orchestrator-container" target="statemachine-server-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-orchestrator-wikibrowser" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#56517e;strokeWidth=2;" edge="1" parent="1" source="orchestrator-container" target="wikibrowser-server-container">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1750" y="-550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="connection-orchestrator-gamification" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#b85450;strokeWidth=2;" edge="1" parent="1" source="orchestrator-container" target="gamification-ui-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-gamification-driver" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="gamification-ui-container" target="mcp-driver-adapter">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="connection-driver-runtime" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="mcp-driver-adapter" target="runtime-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-950" y="-1800" width="1350" height="220" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="Architecture Legend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-600" y="-1780" width="650" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-launcher" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-920" y="-1740" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-launcher-text" value="MCPLauncherServer - Core system that manages and spawns other servers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-880" y="-1740" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-socket" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;" vertex="1" parent="1">
          <mxGeometry x="-920" y="-1700" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-socket-text" value="Socket.IO Server - Manages AlephScript rooms and client connections" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-880" y="-1700" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-orchestrator" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-920" y="-1660" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-orchestrator-text" value="RxJS Orchestrator - Message bus that connects all channels and components" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-880" y="-1660" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-alephscript" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-920" y="-1620" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-alephscript-text" value="AlephScript Clients - Socket.IO clients (Proserpina, Orfeo, Euridice)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-880" y="-1620" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-bots" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-440" y="-1740" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-bots-text" value="RxJS Channel Bots - Apolo, Dionisio, Justice, User Simulator" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-400" y="-1740" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-gamification" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-440" y="-1700" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-gamification-text" value="GamificationUI - UI components (Console, HTML5, MultiUI)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-400" y="-1700" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-devops" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;" vertex="1" parent="1">
          <mxGeometry x="-440" y="-1660" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-devops-text" value="DevOpsServer - DevOps automation server (Port 3003)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-400" y="-1660" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-statemachine" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-440" y="-1620" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-statemachine-text" value="MCPStateMachineServer - X+1 MCP Machine (Port 3001)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-400" y="-1620" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- Footer sections -->
        <mxCell id="footer-section-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-950" y="100" width="1350" height="200" as="geometry" />
        </mxCell>
        <mxCell id="footer-section-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="500" y="100" width="1000" height="200" as="geometry" />
        </mxCell>
        <mxCell id="footer-section-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1560" y="100" width="800" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-1-title" value="Stack Technologies" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-600" y="120" width="650" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-1-content" value="• TypeScript - Core programming language&#xa;• RxJS - Reactive programming library for message passing&#xa;• Socket.IO - Real-time bidirectional communication&#xa;• NodeJS - JavaScript runtime&#xa;• Express - Web framework for API endpoints&#xa;• Zod - TypeScript-first schema validation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-900" y="160" width="1250" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-2-title" value="Architectural Patterns" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="675" y="120" width="650" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-2-content" value="• Event-Driven Architecture - Using RxJS Subjects&#xa;• Microservices - Multiple specialized MCP servers&#xa;• Pub/Sub - Message passing between components&#xa;• Model-View-Controller - UI separation pattern&#xa;• State Machine - For game state management&#xa;• Dependency Injection - For service composition" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="550" y="160" width="900" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-3-title" value="Deployment Configuration" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1735" y="120" width="450" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="footer-section-3-content" value="• MCPLauncherServer - Port 3050&#xa;• MCPStateMachineServer - Port 3001&#xa;• MCPWikiBrowserServer - Port 3002&#xa;• DevOpsServerImpl - Port 3003&#xa;• Socket.IO Server - Port 3004&#xa;• HTML5 Web Interface - Port 8080" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1610" y="160" width="700" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="diagram-title" value="STATE MACHINE MCP DRIVER - ARCHITECTURE DIAGRAM" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="-2600" width="1000" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="diagram-subtitle" value="Comprehensive visualization of the state-machine-mcp-driver system architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="500" y="-2550" width="1000" height="30" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
